(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-login"],{"0b78":function(e,t,n){"use strict";n.r(t);var r=n("1804"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},1769:function(e,t,n){"use strict";n.r(t);var r=n("4156"),a=n("0b78");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("ee45");var i,s=n("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"32024cc2",null,!1,r["a"],i);t["default"]=c.exports},1804:function(e,t,n){"use strict";var r=n("4ea4");n("d3b7"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=r(n("1da1")),o=r(n("7bcf")),i={data:function(){return{title:"Hello",user:null,from:{username:"",password:"",code:""},desktopImage:"url(./static/medias/desktop/3.jpg)",textType:"password"}},components:{imgcode:o.default},onLoad:function(){},methods:{login:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(e.from);case 1:if((t.t1=t.t0()).done){t.next=14;break}if(n=t.t1.value,e.from[n]||"username"!==n){t.next=6;break}return e.$message.error("账号不能为空"),t.abrupt("return");case 6:if(e.from[n]||"password"!==n){t.next=9;break}return e.$message.error("密码不能为空"),t.abrupt("return");case 9:if(e.from[n]||"code"!==n){t.next=12;break}return e.$message.error("验证码不能为空"),t.abrupt("return");case 12:t.next=1;break;case 14:if(r=uni.getStorageSync("imgcode"),r===e.from.code){t.next=18;break}return e.$message.error("验证码错误"),t.abrupt("return");case 18:return t.next=20,e.Api.sendUniCloud(e,{model:"login",event:{username:e.from.username,password:e.from.password}});case 20:if(a=t.sent,a.status){t.next=24;break}return e.$message.error(a.mes),t.abrupt("return");case 24:e.$store.commit("login",a.data),e.$message({message:"登录成功",type:"success",duration:1e3,onClose:function(){console.log("跳转"),uni.redirectTo({url:"/pages/home/index"})}});case 26:case"end":return t.stop()}}),t)})))()},changeType:function(){this.textType="password"===this.textType?"text":"password"}}};t.default=i},2994:function(e,t,n){"use strict";n.r(t);var r=n("58a1"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},4156:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={imgcode:n("7bcf").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login_content flex XcenterYcenter",style:{backgroundImage:e.desktopImage}},[n("div",{staticClass:"loginBox flex YcenterXcenter"},[n("div",{staticClass:"logo"},[n("i",{staticClass:"el-icon-s-platform"}),n("span",[e._v("WUI 个人云桌面")])]),n("div",{staticClass:"form flex YcenterXcenter"},[n("el-input",{staticStyle:{width:"300px","border-radius":"40px","margin-bottom":"15px"},attrs:{placeholder:"请输入账号","prefix-icon":"el-icon-user\n"},model:{value:e.from.username,callback:function(t){e.$set(e.from,"username",t)},expression:"from.username"}}),n("el-input",{staticStyle:{width:"300px","border-radius":"40px"},attrs:{type:e.textType,placeholder:"请输入密码","prefix-icon":"el-icon-lock"},model:{value:e.from.password,callback:function(t){e.$set(e.from,"password",t)},expression:"from.password"}},[n("i",{staticClass:"el-input__icon el-icon-view btn-eye",attrs:{slot:"suffix"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeType.apply(void 0,arguments)}},slot:"suffix"})]),n("div",{staticClass:"code flex XcenterYcenter",staticStyle:{"margin-top":"15px"}},[n("el-input",{staticStyle:{width:"170px","margin-right":"10px","border-radius":"40px"},attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-picture-outline"},model:{value:e.from.code,callback:function(t){e.$set(e.from,"code",t)},expression:"from.code"}}),n("imgcode")],1),n("div",{staticClass:"hide",staticStyle:{"margin-top":"5px",color:"#fff"}},[e._v("看不清？点击图片刷新验证码")]),n("div",{staticClass:"btn flex YcenterXcenter",staticStyle:{width:"100%","margin-top":"30px"}},[n("div",{staticClass:"button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}},[e._v("登录")])])],1)])])},o=[]},"58a1":function(e,t,n){"use strict";n("cb29"),n("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{width:120,height:40}},mounted:function(){var e=this;setTimeout((function(){e.init()}),1e3)},methods:{init:function(){console.log("start");var e=uni.createCanvasContext("imgcanvas",this),t=this.width,n=this.height;e.setFillStyle("white"),e.setLineWidth(5),e.fillRect(0,0,t,n);for(var r=["A","B","C","D","E","F","G","H","I","J","K","L","I","M","N","O","P","Q","R","S","T","U","V","W","S","Y","Z","1","2","3","4","5","6","7","8","9","0"],a="",o=0;o<4;o++){var i=r[this.rn(0,r.length-1)],s=this.rn(-30,30);e.setFontSize(14),e.setTextBaseline("top"),e.setFillStyle(this.rc(80,150)),e.save(),e.translate(30*o+15,parseInt(n/1.5)),e.rotate(s*Math.PI/180),e.fillText(i,-10,-15),e.restore(),a+=i}uni.setStorage({key:"imgcode",data:a});for(o=0;o<40;o++)e.beginPath(),e.arc(this.rn(0,t),this.rn(0,n),1,0,2*Math.PI),e.closePath(),e.setFillStyle(this.rc(150,200)),e.fill();e.draw(),console.log("end")},rc:function(e,t){var n=this.rn(e,t),r=this.rn(e,t),a=this.rn(e,t);return"rgb("+n+","+r+","+a+")"},rn:function(e,t){return parseInt(Math.random()*(e-t))+t},refresh:function(){this.init()},canvasIdErrorCallback:function(e){console.error(e.detail.errMsg)}}};t.default=r},"5f21":function(e,t,n){"use strict";var r=n("d3ea"),a=n.n(r);a.a},"706b":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".login_content[data-v-32024cc2]{width:100%;height:100vh;\n  /* background-image: url(../../static/image/0.jpg); */background-repeat:no-repeat;background-size:100% 100%}.login_content .loginBox[data-v-32024cc2]{width:600px;background:rgba(20,54,92,.54);border-radius:10px;border:1px solid rgba(235,238,245,.28);box-shadow:2px -2px 19px 1px #143b66;padding:20px 0}.login_content .loginBox .logo[data-v-32024cc2]{font-size:40px;color:#fff;margin-bottom:25px}.login_content .loginBox .logo i[data-v-32024cc2]{font-size:50px;margin-right:20px}.login_content .loginBox .form .btn .button[data-v-32024cc2]{cursor:pointer;width:200px;height:35px;line-height:35px;border-radius:35px;text-align:center;color:#fff;background-color:#5af}",""]),e.exports=t},"7bcf":function(e,t,n){"use strict";n.r(t);var r=n("ea46"),a=n("2994");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("5f21");var i,s=n("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"aea5a38a",null,!1,r["a"],i);t["default"]=c.exports},9734:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.canvas-img-code[data-v-aea5a38a]{display:inline-block;overflow:hidden;width:120px;height:40px}',""]),e.exports=t},d3ea:function(e,t,n){var r=n("9734");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("a2fd45fc",r,!0,{sourceMap:!1,shadowMode:!1})},ea46:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"canvas-img-code",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}}},[n("v-uni-canvas",{style:{width:e.width+"px",height:e.height+"px"},attrs:{"canvas-id":"imgcanvas"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.canvasIdErrorCallback.apply(void 0,arguments)}}})],1)},o=[]},ee45:function(e,t,n){"use strict";var r=n("fe72"),a=n.n(r);a.a},fe72:function(e,t,n){var r=n("706b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("b8ca4dee",r,!0,{sourceMap:!1,shadowMode:!1})}}]);